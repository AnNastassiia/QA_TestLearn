## 4.1 Клиент-серверная архитектура
**Основные навыки и знания, которые необходимы для веб-тестировщика:**
-  Понимание клиент-серверной архитектуры, структуры HTTP-запросов и ответов, умение их анализировать
- Работа с инструментами разработчика внутри браузера. В данном курсе их мы будем изучать на примере браузера Chrome и DevTools. Особое внимание следует уделить интерфейсу, отдельным вкладкам и их применению для целей тестирования.
- Основы HTML и CSS для упрощения тестирования фронтенда
- Особенности тестирования различных веб-форм и элементов
#### Клиент-серверная архитектура
**Клиент-серверная архитектура** - вычислительная или сетевая архитектура, в которой задания или сетевая нагрузка распределены между поставщиками услуг, называемыми серверами, и заказчиками услуг, называемыми клиентами. 
**Как работает данная модель простыми словами?**
1.	Клиент (браузер, мобильное приложение) отправляет HTTP-запрос к серверу. Пользователь ввел запрос в поисковую строку интернет-магазина
2.	Сервер обрабатывает запрос и присылает HTTP-ответ клиенту. Сервер магазина обработал запрос и обратился к базе данных в поиске искомого товара (см. шаг 3). После этого сервер вернул массив карточек товаров в ответе и пользователь увидел их на клиенте (в браузере).
3.	Если необходимо получить данные, которые сохраняются в базе данных, то сервер обращается к базе и получает ответ от нее. Сервер базы данных обработал запрос и выдал серверу идентификаторы товаров, которые подходят поисковому запросу.
 ![]( https://ucarecdn.com/43cf027c-7b84-4cd4-af0e-7766d43e3829/)
**Толстый и тонкий клиент**
![](https://ucarecdn.com/d2fae5a2-1a3a-47ef-8959-7fdb8a6ac3a3/)
**Веб-страница, веб-сайт, веб-приложение, веб-сервис, веб-сервер**
**Веб-страница (web page)** - документ, который может быть отображён веб-браузерами, такими как: Firefox, Google Chrome, Microsoft Internet Explorer / Edge или Safari от Apple.
**Веб-сайт (website)** - коллекция веб-страниц под одним доменным именем, связанных между собой какими-либо способами. 
**Веб-приложение (web application)** - программное обеспечение, которое запускается в веб-браузере. 
**Веб-сервер (web server)** - компьютер, предоставляющий компьютерное и программное обеспечение, необходимое для функционирования веб-сайта. 
**Веб-сервис (web service)** - реализация абсолютно четких интерфейсов обмена данными между различными приложениями, которые написаны не только на разных языках, но и распределены на разных узлах сети.
#### 4.2 HTTP-протокол

**Модель OSI**

**Модель OSI** представляет собой набор протоколов, которые служат для обмена информацией между компьютерами в локальной сети и интернет. Данная модель описывает работу сетевых устройств. 
![](https://ru.wikipedia.org/wiki/Сетевая_модель_OSI)

**HTTP (HyperText Transfer Protocol)** — протокол прикладного уровня передачи данных, изначально — в виде гипертекстовых документов в формате HTML, в настоящее время используется для передачи произвольных данных.

**Бонус: один из самых популярных вопросов на интервью**

Существует два основных транспортных протокола: TCP и UDP. Благодаря им устанавливается соединения клиента с сетью интернет и отправляется запрос. 

**TCP (Transmission Control Protocol - протокол управления передачей),** является надежным протоколом с установлением соединений, позволяющим без ошибок доставлять байтовый поток с одной машины на любую другую машину объединенной сети. Используется для передачи электронных сообщений, отправка файлов.
**UDP (User Datagram Protocol - протокол пользовательских дейтаграмм),** является ненадежным протоколом без установления соединения, не использующим последовательное управление потоком протокола TCP, а предоставляющим свое собственное.

**Request**
1.	**Стартовая строка (start line)** содержит информацию о методе, которое говорит нам о совершаемом действии. Например, GET - получение информации от сервера, POST - загрузка информации на сервер.
2.	**Цель запроса**, чаще всего это URL.
3.	**Версия HTTP-протокола**
4.	**Headers (заголовки запроса)**, которые несут в себе служебную информацию. Например, информация о языке страницы, кодировке, браузере.
5.	**Пустая строка (empty line)**
6.	**Тело запроса (body)**, в которых содержится полезная нагрузка для отправки на сервер. В методе GET тело игнорируется.
**Response**
1.	**Стартовая строка** содержит: версию протокола, статус-код об успешности запроса, пояснение для кода. Если все прошло хорошо и запрос обработан, вы увидите код 200. О других группах мы поговорим в следующих шагах.
2.	**Headers (заголовки ответа)**, которые несут в себе служебную информацию. Например, дополнительную информацию о сервере и ответе.
3.	**Тело ответа (body)**, в которых содержится результат отправки полезной нагрузки на сервер.

**HTTP-методы**
**HTTP-метод** - глагол или существительное, описывающее требуемое действие.
Примеры методов, которые применяются:
1.	GET - поиск данных
2.	POST - загрузка данных
3.	PUT - полное обновление данных
4.	PATCH - частичное обновление данных
5.	DELETE - удаление данных
6.	OPTIONS - описание параметров соединения
7.	и т.д.

**GET vs POST**
![](https://ucarecdn.com/3b9c9b3b-0cb3-4391-ae9b-64e6d9ca10c6/)
**Коды ответа**
![](https://ucarecdn.com/902d7196-469a-42f9-9a2c-410e7f35ce6d/)
**HTTP и HTTPs**
**HTTPs**— это расширение для протокола HTTP, которое делает его безопасным. Для этого используются специальные криптографические протоколы (TLS), через которые передаются данные.
#### 4.3 URL, IP, DNS. Кэш и куки
**IP-адрес**
**IP-адрес (IP - Internet Protocol)** - уникальный адрес устройства в сети. 
Есть две версии: IPv4 и  IPv6
Адреса IPv4 записываются в виде четырёх чисел, разделённых точками, например: 192.168.2.10. Это 32-битный адрес.
IP-адреса имеют псевдонимы - доменные имена. Именно их вы видите в браузере.
**Доменное имя**
**Доменные имена** - ключевая составляющая инфраструктуры Интернета. Они предоставляют человеко-читаемые адреса веб-серверов, доступных в Интернете.
![]( https://ucarecdn.com/c56d3292-cc55-4b9d-91d6-597fe653440b/)
**MAC-адрес** — уникальный идентификатор, присваиваемый каждой единице активного оборудования или некоторым их интерфейсам в компьютерных сетях Ethernet. 
**Что такое URL?**

![]( https://lh7-us.googleusercontent.com/hdLivMtjjfoEUf6bfG7OiGa7oDPIFM-jMhSRSrtmYpbWsj7I5UnDTxRrCAxlFRUJBfmDQTvQo3x1znt_MAjE8bV8eDRh6_2cC98D2JdjHgzq0Hc-vgQQANRgSCGHKwDZofLyS7ONNTYfumPBd_TzZ41Utw=s2048)
**Составные части URL**
**Протокол:** HTTP, HTTPs, SMTP, FTP
**Доменное имя:** см. в шаге раньше.
**Порт:** определяет доступ к ресурсам на сервере и представляет собой число. Аналогичным образом работают порты на вашем компьютере, которые выделяются под конкретное приложение. 
**Путь:** адрес ресурса на сервере.
**Параметры:** всегда стоят после знака ?. Используются для дополнительных команд. На практике вы будете сталкиваться с ними при фильтрации, например, товаров в интернет-магазине.
**Якорь:** всегда идет после знака #. Переводит вас на определенную часть того же ресурса. Например, часть статьи или определенная минута видео.
**NS-сервер (Domain Name System)**
**DNS** ― это система, которая позволяет браузеру найти запрошенный пользователем сайт по имени домена.
**Работу с DNS-сервером можно описать так:**
1.	Ввод адреса целевого сайта в адресную строку в браузере
2.	Обращение к DNS-кэшу (временное хранилище) на вашем компьютере или провайдере: знает ли он какому IP соответствует домен. Если такое имя есть, то вы переходите на целевой ресурс. 
3.	Если в кэше этой информации нет, то компьютер обращается к DNS-серверу. После чего вы получите соответствующий IP-адрес. Существует несколько уровней DNS-серверов, про которые вы можете почитать

#### Кэш
**Кэш (cache)** — промежуточный буфер с быстрым доступом к нему, содержащий информацию, которая может быть запрошена с наибольшей вероятностью. 
**Куки**
**Cookies** - небольшой фрагмент данных, который сервер отправляет браузеру пользователя, который хранится на компьютере пользователя.  
**Куки часто используются для:**
1.	Управления сеансом (логины, корзины для виртуальных покупок)
2.	Персонализации (пользовательские предпочтения)
3.	Трекинга (отслеживания поведения пользователей)
**Виды куки:**
-	Сессионные куки (session cookie) - такие cookie удаляются при закрытии клиента, то есть существуют только на протяжении текущего сеанса.
-	Постоянные куки (permanent cookies) удаляются не с закрытием клиента, а при наступлении определённой даты  или после определённого интервала времени. 

#### 4.4 Работа с Devtools

**Инструменты разработчика в браузере на примере Chrome Devtools**
Инструменты разработчика используются для отладки и анализа веб-сайтов и веб-приложений как разработчиками, так и тестировщиками. Они встроены в сам браузер (Chrome, Safari, Firefox и т.д.) и не требуют дополнительной установки.
**Как вызвать инструменты разработчика в Chrome?**
1.	Сочетание клавиш для Windows: Ctrl + Shift + C или Ctrl + Shift + J 
2.	Сочетание клавиш для MacOS: Cmd + Option + C или Cmd + Option + J
3.	Навести курсор на тестируемый элемент, нажать на правую кнопку мыши и выбрать Inspect (Просмотреть код)

![]( https://ucarecdn.com/2d3648de-83b8-4474-b52b-95aba4b79a45/)

После вызова интерфейс инструментов разработчика выглядит примерно так:

![]( https://ucarecdn.com/f61f2c88-6676-4468-aa43-3604ab6984b2/)

1.	**Elements (Элементы):**
- Позволяет инспектировать и редактировать HTML-код и стили CSS (отдельная вкладка Styles) в реальном времени, а также видеть структуру DOM-дерева.
2.	**Console (Консоль):**
- Используется для выполнения JavaScript-кода, отладки ошибок и отображения вывода console.log() и других сообщений.
3.	**Sources (Исходники):**
- Позволяет отлаживать JavaScript-код, устанавливать точки остановки, просматривать стек вызовов, исследовать переменные и многое другое.
4.	**Network (Сеть):**
- Предоставляет информацию о сетевом трафике, включая запросы, ответы, загрузку ресурсов, время выполнения и размер файлов.
5.	**Performance (Производительность):**
- Используется для профилирования производительности веб-приложения, анализа времени выполнения и выявления узких мест.
6.	**Memory (Память):**
- Позволяет анализировать использование памяти веб-приложения, искать утечки памяти и оптимизировать работу приложения.
7.	**Application (Приложение):**
- Предоставляет информацию о хранилище данных, такие как куки, локальное хранилище, IndexedDB и др. Вы можете просматривать и редактировать данные.
- Там же можно очищать кэш и куки
8.	**Security (Безопасность):**
- Помогает обнаруживать потенциальные уязвимости и проблемы безопасности на веб-сайте, такие как смешанный контент, устаревшие протоколы и др.

9.	**Lighthouse (Маяк):**
- Этот инструмент работает поверх вкладки Audits и предоставляет более подробные анализы и рекомендации для улучшения веб-сайта.
Chrome Devtools - очень сильный инструмент в арсенале разработки и содержит намного больше возможностей, помимо описанных выше. Обязательно попробуйте поработать с ним!
**Несколько обязательных правил по тестированию веб-приложений:**
1.	При тестировании всегда должен быть открыт DevTools на вкладке Network
2.	Перед тестированием всегда очищайте кэш, чтобы данные из прошлых сессий не влияли на работу приложения
3.	Вы можете тестировать все через **Режим Инкогнито (Ctrl+Shift+N)**, где кэш и куки из прошлых сессий не влияют на работу веб-приложения

#### 4.5 Основы HTML и CSS для тестировщика
**Что такое HTML и СSS? Значение для тестирования**
1. **HTML (HyperText Markup Language — «язык гипертекстовой разметки»):**
- HTML используется для верстки веб-страницы и определяет, что именно будет на ней находиться и в каком порядке.
- Вы можете найти HTML определенной страницы в DevTools во вкладке Elements.
- Если у вас есть доступ к коду приложения, то информацию об HTML можно найти в файле index.html.
Давайте изучим несколько примеров популярных тэгов и атрибутов, которые используются в HTML:
- Тег `<html>`: Это корень веб-страницы, в который вкладываются все остальные элементы.
- Тег `<head>`: Здесь располагается информация, не отображаемая напрямую на странице – такая как заголовок веб-страницы (`<title>`) и ссылки на стилевые файлы.
- Тег `<body>`: Всё, что пользователь видит на странице, находится здесь – тексты, изображения, ссылки.
2. **CSS (Cascading Style Sheets - «каскадные таблицы стилей»)**
- CSS задает стиль элементов на веб-странице.
- Информацию о стилях можно найти в DevTools во вкладке Elements > Styles.
- Свойство color: Меняет цвет текста, например, color: red; сделает текст красным.
#### Зачем это знать тестировщику?
1.	**Тестирование графического интерфейса.** Обычно тестировщик использует разработанный дизайнером макет и сравнивает его с уже готовой веб-страницей. 
2.	**Более четкое описание дефектов для разработчиков.** Вы сможете локализовать баг, сославшись на определенный тэг, селектор или положение элемента в HTML.
3.	**Кроссбраузерное тестирование.** Некоторые стили могут не работать в определенных браузерах и нужно уметь проводить отладку готовых страниц.
4.	**Автоматизация тестирования.** При написании скриптов необходимые элементы для тестирования находятся через селекторы, которые содержатся в HTML
Пример:
```<!DOCTYPE html> <!-- Объявляет тип документа и версию HTML -->
<html>
<head>
    <title>Пример страницы</title> <!-- Заголовок страницы, отображается в названии вкладки браузера -->
    <style>
        body { 
            color: #333; /* Цвет текста на странице */
            background-color: #fff; /* Цвет фона страницы */
        }
        h1 {
            font-size: 24px; /* Размер шрифта для заголовка первого уровня */
        }
        p {
            margin: 20px 0; /* Внешние отступы для абзаца */
        }
    </style>
</head>
<body>
    <h1>Заголовок страницы</h1> <!-- Заголовок первого уровня -->
    <p>Это <strong>пример</strong> текста на странице.</p> <!-- Абзац с выделенным текстом -->
</body>
</html>
```
#### 4.6 Тестирование полей ввода и веб-форм
**Примеры для тестирования различных веб-форм и элементов**

1.	**Тестирование текстовых полей:**

- **Примеры:** Тестирование ввода специальных символов, валидация пустых полей.
2.	**Тестирование тегов в полях ввода:**
- **Примеры:** Ввод HTML-тегов, например `<script>`, для проверки уязвимостей XSS, ввод CSS для проверки его обработки.
3. **Тестирование полей для URL:**
- **Примеры:** Тестирование ввода невалидных URL, например с неправильными протоколами или символами.
4.	**Тестирование загрузки файлов:*
- **Примеры:** Загрузка файлов с невалидными расширениями, тестирование ограничений на размер файла.
5.	**Тестирование полей ввода номеров телефонов:**
- **Примеры:** Ввод номеров с недопустимыми символами, тестирование международных форматов номеров.
6.	**Тестирование полей для email:**
- **Примеры:** Тестирование ввода корректного email, email без символа "@", ввод email с некорректным доменом.
7.	**Тестирование полей для ввода паролей:**
- **Примеры:** Тестирование паролей с недостаточной сложностью, тестирование функции восстановления пароля.
8.	**Тестирование капчи:**
- **Примеры:** Проверка работы капчи при неверном вводе, тестирование обновления изображения капчи.
9.	**Тестирование динамических элементов:**
- **Примеры:** Проверка обновления содержимого страницы при изменении данных в форме без перезагрузки, тестирование слайдеров на чувствительность и точность.
10.	**Многостраничные формы:**
- **Примеры:** Проверка сохранения введенных данных при переходе между страницами формы, тестирование возвращения к предыдущим шагам без потери данных.

11.	**Тестирование чекбоксов и радио-кнопок:**
- **Примеры:** Проверка возможности выбора и снятия выбора, тестирование взаимоисключающего выбора в группе радио-кнопок.
12.	**Тестирование календаря:**
- **Примеры:** Тестирование ограничений на выбор дат, проверка корректности ввода дат вручную и через виджет календаря.
13.	**Тестирование выпадающих списков (Dropdowns):**
- **Примеры:** Проверка всех доступных опций в выпадающем списке, тестирование поведения при выборе различных опций.
14.	**Адаптивность:**
- **Примеры:** Тестирование отображения форм на мобильных устройствах, проверка работы форм в разных ориентациях экрана (портретной и ландшафтной).
15.	**Кросс-браузерное тестирование:**
- **Примеры:**  Проверка совместимости форм в различных версиях и типах браузеров, включая старые версии.
16.	**Доступность и Usability:**
- **Примеры:** Тестирование использования формы с помощью скринридеров, оценка интуитивности интерфейса и легкости взаимодействия с элементами.
## 4.7 Работа с логами
**Что такое логи?**
**Логи** - это документация, фиксирующая информацию о действиях пользователя, приложения, системы или сервера, включая время их выполнения.
**Уровни Логирования:**
-	**OFF**: Без логирования.
-	**FATAL**: Ошибки, делающие дальнейшую работу системы невозможной.
-	**ERROR**: Некритические ошибки, требующие исправления.
-	**WARNING:** Предупреждения, могут привести к ошибкам в будущем.
-	**INFO:** Информационные сообщения о стандартных операциях.
-	**DEBUG:** Все вышеуказанные уровни плюс дополнительная отладочная информация.
-	**TRACE:** Максимальный уровень детализации, фиксирует практически все процессы в системе.
#### Применение в тестировании
-	**Анализ ошибок**: Использование логов для идентификации и анализа ошибок.
-	**Интеграционное тестирование:** Мониторинг взаимодействия между компонентами системы через логи.
-	**Производительность:** Оценка влияния логирования на производительность системы.
-	**Безопасность.** Важность исключения персональных и чувствительных данных из логов, проверка этого.
#### Пример лога с пояснениями
[2023-11-12 15:00:43] ERROR: User authentication failed for user_id=1234 at /login - IP: 192.168.1.1
-	**[2023-11-12 15:00:43]**: Дата и время события. Показывает, когда произошло событие, о котором ведется запись.
-	**ERROR**: Уровень логирования. Указывает на серьезность события, в данном случае на ошибку.
-	**User authentication failed:** Сообщение лога. Описывает, что именно произошло.
