## 5.1 Тестирование веб-сервисов. SOAP и REST. Теория
**Веб-сервисы**
**Веб-сервис** — это технология, которая позволяет различным веб-приложениям или системам обмениваться данными и взаимодействовать друг с другом. В основе таких взаимодействий лежит API - программный интерфейс, о котором мы подробнее поговорим в следующих уроках.
**SOAP**
**SOAP (Simple Object Access Protocol)** - это протокол для обмена структурированными сообщениями в распределенной среде.
SOAP использует XML для передачи сообщений и может работать с различными сетевыми протоколами. 
**XML**
**XML (eXtensible Markup Language)** — это расширяемый язык разметки, предназначенный для структурирования, хранения и передачи данных. В отличие от HTML он не используется в верстке.
**Пример XML**
```<?xml version="1.0" encoding="UTF-8"?>
<bookstore>
  <book category="cooking">
    <title lang="en">Everyday Italian</title>
    <author>Giada De Laurentiis</author>
    <year>2005</year>
    <price>30.00</price>
  </book>
</bookstore>
```
**WSDL**
Для описания функциональности веб-сервиса используется файл, написанный на **WSDL (Web Services Description Language)**, основанный на XML, в котором содержится информация о получаемых и отправляемых данных, форматах сообщений, методах.
**Пример WSDL (приведен в ознакомительных целях, на данный момент нет смысла запоминать определение каждого тэга)**
- `<wsdl:definitions>`: Корневой элемент, определяющий WSDL-документ.
- `<wsdl:types>`: Определяет типы данных, используемые в сообщениях.
- `<wsdl:message>`: Определяет структуру данных для запроса и ответа.
- `<wsdl:portType>`: Описывает набор операций, которые можно выполнить.
- `<wsdl:operation>`: Конкретная операция, доступная через веб-сервис.
- `<wsdl:binding>`: Определяет протокол и формат данных для операций и -сообщений.
- `<soap:binding>`: Указывает, что привязка использует SOAP.
- `<wsdl:service>`: Определяет веб-сервис.
- `<wsdl:port>`: Определяет конечную точку для веб-сервиса.
**Основные правила и ошибки в синтаксисе в XML**
Иногда задание на поиск ошибок в XML дают на собеседовании или перед ним. Поэтому нам важно знать особенности синтаксиса этого языка.
1.	**Обязательное наличие корневого элемента:**
- Ошибка: `<tag1></tag1><tag2></tag2>`
- Правильно: `<root><tag1></tag1><tag2></tag2></root>`
2.	**Наличие закрывающих тегов:**
- Ошибка: `<tag>This is a paragraph.<tag>`
- Правильно: `<tag>This is a paragraph.</tag>`
3.	**Чувствительность к регистру:**
- Ошибка: `<Tag>example</tag>`
- Правильно: `<tag>example</tag>`
4.	**Правильное вложение:**
- Ошибка: `<b><i>Text</b></i>`
- Правильно: `<b><i>Text</i></b>`
5.	**Кавычки в значениях атрибутов:**
- Ошибка: `<tag attribute=value></tag>`
- Правильно: `<tag attribute="value"></tag>`
6.	**Использование специальных значений для некоторых спецсимволов:**
- Ошибка: `<tag> 5 < 10 </tag>`
- Правильно: `<tag> 5 &lt; 10 </tag>`

**REST**
**REST (Representational State Transfer)** — это архитектурный стиль. В отличие от SOAP, который является протоколом, он не подчиняется строгим стандартам, более гибкий, простой и легковесный.
**JSON**
**JSON (JavaScript Object Notation** — это легковесный формат обмена данными, который удобен для чтения и написания для человека, а также для анализа и генерации машинами. Его синтаксис основан на языке JavaScript, но сам JSON существует независимо и может использоваться с другими языками программирования.
**Синтаксис JSON**
**JSON (JavaScript Object Notation)** состоит из следующих элементов:
1.	**Объекты:** Коллекции пар ключ/значение, заключенные в фигурные скобки {}. Например: `{"name": "John", "age": 30}`
2.	**Массивы:** Упорядоченные списки значений, заключенные в квадратные скобки []. Например: `["apple", "banana", "cherry"]`. Если вам нужно заключить несколько объектов в один JSON, то в таком случае тоже нужно использовать массивы Например: `[{"name": "John", "age": 30},{"name": "Liza", "age": 55}]`
3.	**Значения:** Могут быть строками (в двойных кавычках), числами, объектами, массивами, булевыми значениями (true или false), или null. Например: `"Hello World", 123, true, null`.
4.	**Строки:** Последовательности символов в двойных кавычках. Например: "example string"
5.	**Числа:** Целые или с плавающей точкой. Например: 100, 20.5
**Пример JSON**
```{
  "name": "John Doe",
  "age": 30,
  "isEmployed": true,
  "address": {
    "street": "123 Main St",
    "city": "Anytown"
  },
  "phoneNumbers": ["123-456-7890", "456-789-0123"]
}
 ```
- "name", "age", и "isEmployed" — это ключи, соответствующие строковому имени, числовому возрасту и булевому значению занятости.
- "address" — это вложенный объект с ключами "street" и "city".
- "phoneNumbers" — это массив телефонных номеров.
## 5.3 Что такое API простыми словами?
**Краткий конспект**
**API (Application Programming Interface)** – интерфейс прикладного программирования. По сути, это механизм, позволяющий разным программам общаться друг с другом. 
- **Типы API:** Локальные API для взаимодействия в рамках одной системы и удалённые API для связи через сеть.
- **Способы вызова API**
- **Вызов функции системой:** Это автоматизированный процесс, при котором программные компоненты одной системы общаются между собой через внутренние API.
- **Вызов метода другой системой:** Здесь одна система использует API другой системы для получения доступа к функциям или данным. Это основа микросервисной архитектуры, где сервисы взаимодействуют через хорошо определённые интерфейсы.
- **Вызов метода человеком через GUI:** Пользователи взаимодействуют с API через графический интерфейс, который скрывает сложность API. Примеры включают веб-формы, которые отправляют данные через API.
**Как работает удаленный API:**
- Вызов операции с использованием методов GET, POST и других HTTP-методов
- Входные данные передаются через HTTP Request (HTTP-запрос).
- Выходные данные получаются через HTTP Response (HTTP-ответ).

## 5.4 Базовая настройка Postman
**Swagger**
Одним из способов хранения документации API на проекте является Swagger. В нем содержится информация по всем методам, запросам и ответам, которые используются в системе и понадобятся для тестирования.
Разработкой подобной документации на проекте чаще всего занимаются разработчики. Без документации тестировать API очень сложно, поэтому в ваших интересах настоять на ее создании.
